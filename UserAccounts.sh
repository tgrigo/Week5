#!/bin/bash

sed -r 's/(.*?|.*?):x/\1/' UserAcc.txt > UserAccFilter.txt
grep -E '/bin/bash' UserAccFilter.txt > UserAccFilter2.txt 

 echo "User Accounts:"
 awk 'BEGIN { 
     FS=":"; 
     print "____________________________________________________________________________________________________________________________________________________________";
     print "| \033[34mUser Name           \033[0m | \033[34mUser ID\033[0m | \033[34mGroup ID\033[0m | \033[34mDetail                             \033[0m | \033[34mHome                       \033[0m | \033[34mShell                                   \033[0m |";
     print "____________________________________________________________________________________________________________________________________________________________";
 }
 {
     printf("| \033[33m%-20s\033[0m | \033[35m%-7s\033[0m | \033[35m%-8s\033[0m | \033[35m%35s\033[0m | \033[35m%27s\033[0m | \033[35m%-40s\033[0m |\n", $1, $2, $3, $4, $5, $6);
 }
 END {
     print("____________________________________________________________________________________________________________________________________________________________");
 }' UserAccFilter2.txt